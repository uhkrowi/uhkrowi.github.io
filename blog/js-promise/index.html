<!DOCTYPE html><html lang="en"><head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v3.2.3"><!-- Primary Meta Tags --><title>JavaScript: Promise</title><meta name="title" content="JavaScript: Promise"><meta name="description" content=""><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="http://localhost:4321/blog/js-promise/"><meta property="og:title" content="JavaScript: Promise"><meta property="og:description" content=""><meta property="og:image" content="http://localhost:4321/placeholder-social.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="http://localhost:4321/blog/js-promise/"><meta property="twitter:title" content="JavaScript: Promise"><meta property="twitter:description" content=""><meta property="twitter:image" content="http://localhost:4321/placeholder-social.jpg"><!-- <ViewTransitions /> --><link rel="stylesheet" href="/_astro/about.750eb44c.css" />
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style>
<link rel="stylesheet" href="/_astro/cicd-intro.033a0beb.css" /><style>[data-astro-transition-scope="astro-qf4hgxyw-1"] { view-transition-name: astro-qf4hgxyw-1; }@layer astro { ::view-transition-old(astro-qf4hgxyw-1) { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }::view-transition-new(astro-qf4hgxyw-1) { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back]::view-transition-old(astro-qf4hgxyw-1) { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back]::view-transition-new(astro-qf4hgxyw-1) { 
	animation-name: astroFadeIn, astroSlideFromLeft; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-name: astroFadeIn, astroSlideFromLeft; }</style></head><body class="body"><div class="px-5 pt-4 md:pt-0 md:px-0 md:flex md:justify-center space-y-12 md:space-y-0"><!-- <div class="md:hidden py-6 border-b border-gray-400">
        <MobileNavMenu />
      </div> --><div class="main lg:space-y-24"><div class="flex justify-center mb-12"><div class="py-2 px-6 bg-white border border-gray-500 rounded-full space-x-6 shadow-xl"><a href="/about" style="text-decoration: none" title="About" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>About</span></span></a><a href="/project" style="text-decoration: none" title="Project" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>Project</span></span></a><a href="/blog" style="text-decoration: none" title="Notes" class="text-gray-800"><span class=" text-gray-800 font-bold"><span>Notes</span></span></a><a href="/contact" style="text-decoration: none" title="Contact" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>Contact</span></span></a><a href="/cv" style="text-decoration: none" title="CV" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>CV</span></span></a><!-- <button class="rounded-full hover:text-[#fb2576]">About</button>
    <button class="rounded-full hover:text-[#fb2576]">Projects</button>
    <button class="rounded-full hover:text-[#fb2576]">Notes</button>
    <button class="rounded-full hover:text-[#fb2576]">Contact</button>
    <button class="rounded-full hover:text-[#fb2576]">CV</button> --></div></div><!-- <div class="flex justify-end space-x-5">
  {
    menus.map((menu) => {
      return (
        <a
          href={menu.link}
          style="text-decoration: none"
          class="max-w-max"
          title={menu.label}
        >
          <div
            class={`flex items-center space-x-2 py-1 text-gray-800 ${
              isPathActive(menu.link)
                // ? "border border-sky-700 text-sky-700 hover:text-gray-700 font-bold"
                ? "hover:text-gray-700 font-bold border-b-2 border-gray-700"
                : "hover:text-gray-700 border:font-bold hover:border-b-2 hover:border-gray-700"
            }`}
          >
            <span>{menu.label}</span>
          </div>
        </a>
      );
    })
  }
</div> --><div class="sticky top-[150px] pb-[50px]"><article data-astro-transition-scope="astro-qf4hgxyw-1"><div class="pb-10 text-center text-4xl font-extrabold">JavaScript: Promise</div><div class="flex items-center justify-center space-x-3 text-xs"><span class="space-x-1"><span>Jul 15, 2022</span><!-- <span>&nbsp;·&nbsp;</span>
        <span>4 min read</span> --></span><!-- <span class="flex items-center p-1 bg-white">
        <BookOpen size={10} className="mx-1" />{" "}
        <span>{minuteRead} minute{minuteRead > 1 && "s"}</span>
      </span> --></div><div class="flex flex-col"></div><div class="pt-8"><p><em>Promises</em> give us a way to make sense out of asynchronous behavior. When making an asynchronous request, one of two things can happen: everything goes as we hope or there’s an error. There may be several different types of successful or unsuccessful requests. For example, we could try several ways to obtain the data to reach success. We could also receive multiple types of errors. Promises give us a way to simplify back to a simple pass or fail.</p>
<p>Let’s create an asynchronous promise for loading data from the <code>randomuser</code>.me API. This API has information like email address, name, phone number, location, and so on for fake members and is great to use as dummy data.</p>
<p>The <code>getFakeMembers</code> function returns a new promise. The promise makes a request to the API. If the promise is successful, the data will load. If the promise is unsuccessful, an error will occur</p>
<pre class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">const</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">getFakeMembers</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #FFAB70">count</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">Promise</span><span style="color: #E1E4E8">((</span><span style="color: #FFAB70">resolves</span><span style="color: #E1E4E8">, </span><span style="color: #FFAB70">rejects</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">const</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">api</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">`https://api.randomuser.me/?nat=US&#x26;results=${</span><span style="color: #E1E4E8">count</span><span style="color: #9ECBFF">}`</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">const</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">request</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">XMLHttpRequest</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">  request.</span><span style="color: #B392F0">open</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'GET'</span><span style="color: #E1E4E8">, api)</span></span>
<span class="line"><span style="color: #E1E4E8">  request.</span><span style="color: #B392F0">onload</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> () </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> </span></span>
<span class="line"><span style="color: #E1E4E8">       (request.status </span><span style="color: #F97583">===</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">200</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">?</span><span style="color: #E1E4E8"> </span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #B392F0">resolves</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">JSON</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">parse</span><span style="color: #E1E4E8">(request.response).results) </span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #B392F0">reject</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Error</span><span style="color: #E1E4E8">(request.statusText))</span></span>
<span class="line"><span style="color: #E1E4E8">  request.</span><span style="color: #B392F0">onerror</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> (</span><span style="color: #FFAB70">err</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">rejects</span><span style="color: #E1E4E8">(err)</span></span>
<span class="line"><span style="color: #E1E4E8">  request.</span><span style="color: #B392F0">send</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">})</span></span></code></pre>
<p>With that, the promise has been created, but it hasn’t been used yet. We can use the promise by calling the <code>getFakeMembers</code> function and passing in the number of members that should be loaded. The <code>then</code> function can be chained on to do something once the promise has been fulfilled. This is called composition. We’ll also use an additional callback that handles errors:</p>
<pre class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #B392F0">getFakeMembers</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">5</span><span style="color: #E1E4E8">).</span><span style="color: #B392F0">then</span><span style="color: #E1E4E8">(</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #FFAB70">members</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> console.</span><span style="color: #B392F0">log</span><span style="color: #E1E4E8">(members),</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #FFAB70">err</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> console.</span><span style="color: #B392F0">error</span><span style="color: #E1E4E8">(</span></span>
<span class="line"><span style="color: #E1E4E8">      </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Error</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"cannot load members from randomuser.me"</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">)</span></span></code></pre>
<p>Promises make dealing with asynchronous requests easier, which is good, because we have to deal with a lot of asynchronous data in JavaScript. You’ll also see promises used heavily in Node.js, so a solid understanding of promises is essential for the modern JavaScript engineer.</p></div></article><footer class="w-full mt-16 flex items-center justify-between border-t border-gray-300 pt-12 text-gray-500 text-sm"><span>&copy; Nurul Uhkrowi 2024</span><div class="flex items-center space-x-4"><a href="mailto:uhkrowi@gmail.com" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#9ca3af" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a><a href="https://t.me/uhkrowi" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#9ca3af" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white"><line x1="22" x2="11" y1="2" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg></a><a href="https://linkedin.com/in/uhkrowi" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#9ca3af" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></div></footer></div></div><!-- <div class="relative main">
        <div class="hidden md:block sticky top-0 h-[150px]"></div>
        <div class="hidden md:block sticky top-[150px]">
          <div class="absolute left-[-200px]">
            <NavMenu />
          </div>
        </div>
        <div class="sticky top-[150px] pb-[50px]">
          <slot />
        </div>
      </div> --></div></body></html>