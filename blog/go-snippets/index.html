<!DOCTYPE html><html lang="en"><head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v3.2.3"><!-- Primary Meta Tags --><title>Go snippets</title><meta name="title" content="Go snippets"><meta name="description" content=""><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="http://localhost:4321/blog/go-snippets/"><meta property="og:title" content="Go snippets"><meta property="og:description" content=""><meta property="og:image" content="http://localhost:4321/placeholder-social.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="http://localhost:4321/blog/go-snippets/"><meta property="twitter:title" content="Go snippets"><meta property="twitter:description" content=""><meta property="twitter:image" content="http://localhost:4321/placeholder-social.jpg"><!-- <ViewTransitions /> --><link rel="stylesheet" href="/_astro/about.6d3b052c.css" />
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style>
<link rel="stylesheet" href="/_astro/cicd-intro.65e228a5.css" /><style>[data-astro-transition-scope="astro-qf4hgxyw-1"] { view-transition-name: astro-qf4hgxyw-1; }@layer astro { ::view-transition-old(astro-qf4hgxyw-1) { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }::view-transition-new(astro-qf4hgxyw-1) { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back]::view-transition-old(astro-qf4hgxyw-1) { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back]::view-transition-new(astro-qf4hgxyw-1) { 
	animation-name: astroFadeIn, astroSlideFromLeft; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-qf4hgxyw-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-qf4hgxyw-1"] { 
	animation-name: astroFadeIn, astroSlideFromLeft; }</style></head><body class="body"><div class="px-5 pt-4 md:pt-0 md:px-0 md:flex md:justify-center space-y-12 md:space-y-0"><!-- <div class="md:hidden py-6 border-b border-gray-400">
        <MobileNavMenu />
      </div> --><div class="main space-y-24"><div class="flex justify-center mb-12"><div class="py-2 px-6 bg-white border border-gray-500 rounded-full space-x-6 shadow-xl"><a href="/about" style="text-decoration: none" title="About" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>About</span></span></a><a href="/project" style="text-decoration: none" title="Project" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>Project</span></span></a><a href="/blog" style="text-decoration: none" title="Notes" class="text-gray-800"><span class=" text-gray-800 font-bold"><span>Notes</span></span></a><a href="/contact" style="text-decoration: none" title="Contact" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>Contact</span></span></a><a href="/cv" style="text-decoration: none" title="CV" class="text-gray-800"><span class=" text-gray-800 hover:text-[#D92063]"><span>CV</span></span></a><!-- <button class="rounded-full hover:text-[#fb2576]">About</button>
    <button class="rounded-full hover:text-[#fb2576]">Projects</button>
    <button class="rounded-full hover:text-[#fb2576]">Notes</button>
    <button class="rounded-full hover:text-[#fb2576]">Contact</button>
    <button class="rounded-full hover:text-[#fb2576]">CV</button> --></div></div><!-- <div class="flex justify-end space-x-5">
  {
    menus.map((menu) => {
      return (
        <a
          href={menu.link}
          style="text-decoration: none"
          class="max-w-max"
          title={menu.label}
        >
          <div
            class={`flex items-center space-x-2 py-1 text-gray-800 ${
              isPathActive(menu.link)
                // ? "border border-sky-700 text-sky-700 hover:text-gray-700 font-bold"
                ? "hover:text-gray-700 font-bold border-b-2 border-gray-700"
                : "hover:text-gray-700 border:font-bold hover:border-b-2 hover:border-gray-700"
            }`}
          >
            <span>{menu.label}</span>
          </div>
        </a>
      );
    })
  }
</div> --><div class="sticky top-[150px] pb-[50px]"><article data-astro-transition-scope="astro-qf4hgxyw-1"><div class="pb-10 text-center text-4xl font-extrabold">Go snippets</div><div class="flex items-center justify-center space-x-3 text-xs"><span class="space-x-1"><span>Sep 3, 2023</span><!-- <span>&nbsp;·&nbsp;</span>
        <span>4 min read</span> --><span>&nbsp;·&nbsp;</span><a href="/tag/go" class="border border-gray-300 hover:bg-gray-100 rounded-full px-2 py-1 no-underline" style="text-decoration: none;"><span class="">go</span></a><a href="/tag/tidbit" class="border border-gray-300 hover:bg-gray-100 rounded-full px-2 py-1 no-underline" style="text-decoration: none;"><span class="">tidbit</span></a></span><!-- <span class="flex items-center p-1 bg-white">
        <BookOpen size={10} className="mx-1" />{" "}
        <span>{minuteRead} minute{minuteRead > 1 && "s"}</span>
      </span> --></div><div class="flex flex-col"></div><div class="pt-8"><h3 id="1-get-random-string-in-go">1. Get random string in Go</h3>
<pre class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">import</span><span style="color: #E1E4E8"> (</span></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #9ECBFF">"</span><span style="color: #B392F0">fmt</span><span style="color: #9ECBFF">"</span></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #9ECBFF">"</span><span style="color: #B392F0">math/rand</span><span style="color: #9ECBFF">"</span></span>
<span class="line"><span style="color: #E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">var</span><span style="color: #E1E4E8"> probLetters </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> []</span><span style="color: #79B8FF">rune</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&#x26;*1234567890"</span><span style="color: #E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">func</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">randString</span><span style="color: #E1E4E8">(length </span><span style="color: #F97583">int</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">string</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">  b </span><span style="color: #F97583">:=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">make</span><span style="color: #E1E4E8">([]</span><span style="color: #F97583">rune</span><span style="color: #E1E4E8">, length)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">for</span><span style="color: #E1E4E8"> i </span><span style="color: #F97583">:=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">range</span><span style="color: #E1E4E8"> b {</span></span>
<span class="line"><span style="color: #E1E4E8">    b[i] </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> probLetters[rand.</span><span style="color: #79B8FF">Intn</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">len</span><span style="color: #E1E4E8">(probLetters) </span><span style="color: #F97583">-</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">1</span><span style="color: #E1E4E8">)]</span></span>
<span class="line"><span style="color: #E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">(b)</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">fmt.</span><span style="color: #79B8FF">Println</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">randString</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">10</span><span style="color: #E1E4E8">))</span></span></code></pre>
<p>You can try <a href="https://go.dev/play/p/PAcRVNDPDYr">here</a>.</p>
<h3 id="2-scheduling-with-timesleep">2. Scheduling with time.Sleep()</h3>
<pre class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">import</span><span style="color: #E1E4E8"> (</span></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #9ECBFF">"</span><span style="color: #B392F0">time</span><span style="color: #9ECBFF">"</span></span>
<span class="line"><span style="color: #E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">func</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">doSomething</span><span style="color: #E1E4E8">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">for</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #79B8FF">doSomething</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">  time.</span><span style="color: #79B8FF">Sleep</span><span style="color: #E1E4E8">(time.Second </span><span style="color: #F97583">*</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">10</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre>
<p>The <code>doSomething()</code> will be invoked every 10 seconds.</p>
<h3 id="3-checking-palindrome-string">3. Checking palindrome string</h3>
<pre class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">func</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">isPalindrome</span><span style="color: #E1E4E8">(s </span><span style="color: #F97583">string</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">bool</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #F97583">var</span><span style="color: #E1E4E8"> letters []</span><span style="color: #F97583">rune</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #F97583">for</span><span style="color: #E1E4E8"> _, r </span><span style="color: #F97583">:=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">range</span><span style="color: #E1E4E8"> s {</span></span>
<span class="line"><span style="color: #E1E4E8">		</span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> unicode.</span><span style="color: #79B8FF">IsLetter</span><span style="color: #E1E4E8">(r) {</span></span>
<span class="line"><span style="color: #E1E4E8">			letters </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">append</span><span style="color: #E1E4E8">(letters, unicode.</span><span style="color: #79B8FF">ToLower</span><span style="color: #E1E4E8">(r))</span></span>
<span class="line"><span style="color: #E1E4E8">		}</span></span>
<span class="line"><span style="color: #E1E4E8">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #F97583">for</span><span style="color: #E1E4E8"> i </span><span style="color: #F97583">:=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">range</span><span style="color: #E1E4E8"> letters {</span></span>
<span class="line"><span style="color: #E1E4E8">		</span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> letters[i] </span><span style="color: #F97583">!=</span><span style="color: #E1E4E8"> letters[</span><span style="color: #79B8FF">len</span><span style="color: #E1E4E8">(letters)</span><span style="color: #F97583">-</span><span style="color: #79B8FF">1</span><span style="color: #F97583">-</span><span style="color: #E1E4E8">i] {</span></span>
<span class="line"><span style="color: #E1E4E8">			</span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">false</span></span>
<span class="line"><span style="color: #E1E4E8">		}</span></span>
<span class="line"><span style="color: #E1E4E8">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">true</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre>
<h3 id="4-fetching-api-with-package-nethttp">4. Fetching API with package <code>net/http</code></h3>
<pre class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">func</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">fetchAPI</span><span style="color: #E1E4E8">() {</span></span>
<span class="line"><span style="color: #E1E4E8">	URL </span><span style="color: #F97583">:=</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">"https://jsonplaceholder.typicode.com/posts"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">	response, err </span><span style="color: #F97583">:=</span><span style="color: #E1E4E8"> http.</span><span style="color: #79B8FF">Get</span><span style="color: #E1E4E8">(URL)</span></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> err </span><span style="color: #F97583">!=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">nil</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">		fmt.</span><span style="color: #79B8FF">Printf</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"Error: </span><span style="color: #79B8FF">%v\n</span><span style="color: #9ECBFF">"</span><span style="color: #E1E4E8">, err)</span></span>
<span class="line"><span style="color: #E1E4E8">		</span><span style="color: #F97583">return</span></span>
<span class="line"><span style="color: #E1E4E8">	}</span></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #F97583">defer</span><span style="color: #E1E4E8"> response.Body.</span><span style="color: #79B8FF">Close</span><span style="color: #E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">	data, err </span><span style="color: #F97583">:=</span><span style="color: #E1E4E8"> ioutil.</span><span style="color: #79B8FF">ReadAll</span><span style="color: #E1E4E8">(response.Body)</span></span>
<span class="line"><span style="color: #E1E4E8">	</span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> err </span><span style="color: #F97583">!=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">nil</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">		fmt.</span><span style="color: #79B8FF">Printf</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"Error: </span><span style="color: #79B8FF">%v\n</span><span style="color: #9ECBFF">"</span><span style="color: #E1E4E8">, err)</span></span>
<span class="line"><span style="color: #E1E4E8">		</span><span style="color: #F97583">return</span></span>
<span class="line"><span style="color: #E1E4E8">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">	fmt.</span><span style="color: #79B8FF">Print</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">(data))</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div></article><footer class="w-full mt-16 flex items-center justify-between border-t border-gray-300 pt-12 text-gray-500 text-sm"><span>&copy; Nurul Uhkrowi 2024</span><div class="flex items-center space-x-4"><a href="mailto:uhkrowi@gmail.com" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#9ca3af" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a><a href="https://t.me/uhkrowi" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#9ca3af" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white"><line x1="22" x2="11" y1="2" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg></a><a href="https://linkedin.com/in/uhkrowi" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#9ca3af" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></div></footer></div></div><!-- <div class="relative main">
        <div class="hidden md:block sticky top-0 h-[150px]"></div>
        <div class="hidden md:block sticky top-[150px]">
          <div class="absolute left-[-200px]">
            <NavMenu />
          </div>
        </div>
        <div class="sticky top-[150px] pb-[50px]">
          <slot />
        </div>
      </div> --></div></body></html>